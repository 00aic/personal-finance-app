import{_ as h,a as F,f as L,u as N}from"./useImageUrl-Bnx17IBW.js";import{g as O,u as U,B as $}from"./useBudgetsChart-CesfLgsO.js";import{h as E}from"./illustration-authentication-BmoVJKBC.js";import{g as W}from"./pots-4Ew2T_xh.js";import{d as j,r as c,o as M,c as k,a as o,b as s,t as e,F as f,e as y,f as q,u as l,g as G,n as T,h as H,i as d,j as J}from"./index-CDsun8ib.js";import{g as K}from"./transactions-Be9Q_Bkv.js";import{f as Q}from"./dateUtils-qMqWlCi5.js";import{g as X,u as Y}from"./recurringBills-pMM0Ve02.js";import"./config-DsdTllfp.js";const Z=()=>E.get("/balance"),ss={class:"overview common-layout-page"},ts={class:"total"},es={class:"total__balance"},as={class:"total__balance-value"},is={class:"total__income"},ls={class:"total__income-value"},os={class:"total__expenses"},ds={class:"total__expenses-value"},ns={class:"body"},rs={class:"pots"},_s={class:"pots-body"},cs={class:"total"},us={class:"total__content"},vs={class:"total__content-value"},ms={class:"grid-details"},gs={class:"grid-details__item-label"},ps={class:"grid-details__item-value"},hs={class:"transactions"},bs={class:"details"},Bs={class:"item__user"},fs={class:"item__user-avatar"},ys=["src"],Ss={class:"item__user-name"},ws={class:"item__content"},Ds={class:"item__content-time"},ks={class:"budgets"},Ts={class:"budgets-body"},xs={class:"grid-details"},Cs={class:"grid-details__item-label"},As={class:"grid-details__item-value"},Ps={class:"recurring-bills"},Rs={class:"details"},Vs={class:"details__item details__paid"},Is={class:"details__item-value"},zs={class:"details__item details__upcoming"},Fs={class:"details__item-value"},Ls={class:"details__item details__due"},Ns={class:"details__item-value"},Os=j({__name:"OverviewView",setup(Us){const u=G(),v=c(),b=c([]),S=c([]),m=c([]),w=c([]);M(async()=>{v.value=(await Z()).data,b.value=(await W()).data,S.value=(await K({page:1,pageSize:5})).data.data,m.value=m.value=(await O()).data,w.value=(await X()).data});const D=k(()=>{var t,n;const g=(t=b.value)==null?void 0:t.reduce((r,p)=>(r+=p.total??0,r),0);return{data:(n=b.value)==null?void 0:n.slice(0,4),totalSaved:g}}),i=g=>L(g,{currency:"USD"}),x=()=>{u.push({name:"Pots"})},C=()=>{u.push({name:"Transactions"})},A=k(()=>m.value.slice(0,4)),{chartData:P,chartLimit:R,chartSpent:V}=U(m),I=()=>{u.push({name:"Budgets"})},B=Y(w),z=()=>{u.push({name:"Recurring bills"})};return(g,t)=>{var n,r,p;return d(),o("div",ss,[t[16]||(t[16]=s("header",{class:"header"},"Overview",-1)),s("div",ts,[s("div",es,[t[0]||(t[0]=s("div",{class:"total__balance-label"},"Current Balance",-1)),s("div",as,e(i(((n=v.value)==null?void 0:n.current)??0)),1)]),s("div",is,[t[1]||(t[1]=s("div",{class:"total__income-label"},"Income",-1)),s("div",ls,e(i(((r=v.value)==null?void 0:r.income)??0)),1)]),s("div",os,[t[2]||(t[2]=s("div",{class:"total__expenses-label"},"Expenses",-1)),s("div",ds,e(i(((p=v.value)==null?void 0:p.expenses)??0)),1)])]),s("div",ns,[s("div",rs,[s("div",{class:"session-header"},[t[4]||(t[4]=s("div",{class:"session-header__title"},"Pots",-1)),s("div",{class:"session-header__action",onClick:x},t[3]||(t[3]=[s("div",null,"See Details",-1),s("div",null,[s("img",{src:h,alt:"caret-right"})],-1)]))]),s("div",_s,[s("div",cs,[t[6]||(t[6]=s("div",{class:"total__icon"},[s("img",{src:F,alt:"pot"})],-1)),s("div",us,[t[5]||(t[5]=s("div",{class:"total__content-label"},"Total Saved",-1)),s("div",vs,e(i(D.value.totalSaved??0)),1)])]),s("div",ms,[(d(!0),o(f,null,y(D.value.data,(a,_)=>(d(),o("div",{class:"grid-details__item",key:`pot-${_}`,style:T({"--color-budget-border":a.theme})},[s("div",gs,e(a.name),1),s("div",ps,e(i(a.total??0)),1)],4))),128))])])]),s("div",hs,[s("div",{class:"session-header"},[t[8]||(t[8]=s("div",{class:"session-header__title"},"Tranctions",-1)),s("div",{class:"session-header__action",onClick:C},t[7]||(t[7]=[s("div",null,"View All",-1),s("div",null,[s("img",{src:h,alt:"caret-right"})],-1)]))]),s("div",bs,[(d(!0),o(f,null,y(S.value,(a,_)=>(d(),o("div",{class:"item",key:`transaction-${_}`},[s("div",Bs,[s("div",fs,[s("img",{src:l(N)(a.avatar).value,alt:"avatars"},null,8,ys)]),s("div",Ss,e(a.name),1)]),s("div",ws,[s("div",{class:H(["item__content-value",{positive:a.amount>=0}])},e(a.amount>0?"+":"")+e(i(a.amount)),3),s("div",Ds,e(l(Q)(a.date)),1)])]))),128))])]),s("div",ks,[s("div",{class:"session-header"},[t[10]||(t[10]=s("div",{class:"session-header__title"},"Budgets",-1)),s("div",{class:"session-header__action",onClick:I},t[9]||(t[9]=[s("div",null,"See Details",-1),s("div",null,[s("img",{src:h,alt:"caret-right"})],-1)]))]),s("div",Ts,[q(l($),{data:l(P),limit:l(R),spent:l(V)},null,8,["data","limit","spent"]),s("div",xs,[(d(!0),o(f,null,y(A.value,(a,_)=>(d(),o("div",{class:"grid-details__item",key:`budget-${_}`,style:T({"--color-budget-border":a.theme})},[s("div",Cs,e(a.category),1),s("div",As,e(i(a.spent??0)),1)],4))),128))])])]),s("div",Ps,[s("div",{class:"session-header"},[t[12]||(t[12]=s("div",{class:"session-header__title"},"Recurring Bills",-1)),s("div",{class:"session-header__action",onClick:z},t[11]||(t[11]=[s("div",null,"See Details",-1),s("div",null,[s("img",{src:h,alt:"caret-right"})],-1)]))]),s("div",Rs,[s("div",Vs,[t[13]||(t[13]=s("div",{class:"details__item-label"},"Paid Bills",-1)),s("div",Is,e(i(l(B).paidBillsAmount??0)),1)]),s("div",zs,[t[14]||(t[14]=s("div",{class:"details__item-label"},"Total Upcoming",-1)),s("div",Fs,e(i(l(B).dueBillsAmount??0)),1)]),s("div",Ls,[t[15]||(t[15]=s("div",{class:"details__item-label"},"Due Soon",-1)),s("div",Ns,e(i(l(B).dueBillsLastFiveAmount??0)),1)])])])])])}}}),Ks=J(Os,[["__scopeId","data-v-bf782450"]]);export{Ks as default};
