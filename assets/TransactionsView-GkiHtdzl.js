import{b as R,_ as U,u as $,f as z,c as A}from"./useImageUrl-C2JENkPK.js";import{g as F}from"./transactions-Be9Q_Bkv.js";import{S as q,a as j}from"./sort-CNMGS2U9.js";import{S as k}from"./SelectPicker-BKE-Yk6y.js";import{f as G}from"./dateUtils-qMqWlCi5.js";import{d as H,r as i,o as Q,k as W,l as Y,c as y,a as r,b as e,f,u as c,m as J,F as h,e as T,t as d,h as x,i as u,j as K}from"./index-C032iH88.js";import{C as X}from"./categories-YDGcINYU.js";import"./illustration-authentication-BmoVJKBC.js";import"./config-DsdTllfp.js";const Z={class:"transactions common-layout-page"},aa={class:"content"},ea={class:"actions"},ta={class:"actions__select"},sa={class:"details"},la={class:"item__avatar"},oa=["src"],ia={class:"item__name"},na={class:"item__category"},ca={class:"item__date"},ra={class:"pagination"},ua={class:"page"},va=["onClick"],da={key:1,class:"page__item"},_a=H({__name:"TransactionsView",setup(ma){const S=W(),P=i(),C=async l=>{P.value=l,await n()},m=i("latest"),N=async()=>{await n()},_=i("all"),I=async()=>{await n()},s=i(1),w=i(10),v=i(1),V=i([]),n=async()=>{const l=(await F({page:s.value,pageSize:w.value,sort:m.value,category:_.value,search:P.value})).data;V.value=l.data,v.value=Math.ceil(l.total/w.value)};Q(async()=>{S.query.category&&(_.value=S.query.category),await n()});const O=async()=>{s.value>1&&(s.value--,s.value<o.value&&(o.value=s.value),await n())},L=async()=>{s.value<v.value&&(s.value++,s.value===g.value&&o.value===1&&o.value++,await n())},M=async l=>{s.value=l,await n()},B=i(Y("(min-width: 577px)")),p=y(()=>B.value?8:4),g=y(()=>p.value/2+1),o=i(1),D=y(()=>{const l=[];if(v.value-(o.value-1)<=p.value)for(let a=o.value;a<=v.value;a++)l.push({type:"page",value:a});else for(let a=o.value;a<=v.value;a++)a===g.value+(o.value-1)?(l.push({type:"ellipsis",value:0}),a=v.value-(p.value-g.value)):l.push({type:"page",value:a});return l}),E=async()=>{o.value++,s.value<o.value&&(s.value++,await n())};return(l,t)=>(u(),r("div",Z,[t[5]||(t[5]=e("header",{class:"header"},"Transactions",-1)),e("div",aa,[e("div",ea,[f(c(q),{onSearch:C,class:"actions__search"}),e("div",ta,[f(c(k),{"img-src":"icon-sort-mobile.svg",label:"Sort by",modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=a=>m.value=a),options:c(j),onSelect:N},null,8,["modelValue","options"]),f(c(k),{"img-src":"icon-filter-mobile.svg",label:"Category",modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=a=>_.value=a),options:c(X),onSelect:I},null,8,["modelValue","options"])])]),e("div",sa,[t[2]||(t[2]=J('<div class="title" data-v-57a51637><div data-v-57a51637></div><div class="title__user" data-v-57a51637>Recipient/Sender</div><div class="title__category" data-v-57a51637>Category</div><div class="title__date" data-v-57a51637>Transaction Date</div><div class="title__amount" data-v-57a51637>Amount</div></div>',1)),(u(!0),r(h,null,T(V.value,(a,b)=>(u(),r("div",{class:"item",key:b},[e("div",la,[e("img",{src:c($)(a.avatar).value,alt:"avatar"},null,8,oa)]),e("div",ia,d(a.name),1),e("div",na,d(a.category),1),e("div",{class:x(["item__amount",{positive:a.amount>=0}])},d(a.amount>0?"+":"")+" "+d(c(z)(a.amount,{currency:"USD"})),3),e("div",ca,d(c(G)(a.date)),1)]))),128))]),e("div",ra,[e("div",{class:"prev",onClick:O},t[3]||(t[3]=[e("img",{src:R,alt:"prev"},null,-1),e("div",{class:"prev__label"},"Prev",-1)])),e("div",ua,[(u(!0),r(h,null,T(D.value,a=>(u(),r(h,{key:`page${a.value}`},[a.type==="page"?(u(),r("div",{key:0,onClick:b=>M(Number(a.value)),class:x(["page__item",{active:a.value===s.value}])},d(a.value),11,va)):(u(),r("div",da,[e("img",{src:A,alt:"ellipsis",onClick:E})]))],64))),128))]),e("div",{class:"next",onClick:L},t[4]||(t[4]=[e("div",{class:"next__label"},"Next",-1),e("img",{src:U,alt:"next"},null,-1)]))])])]))}}),ba=K(_a,[["__scopeId","data-v-57a51637"]]);export{ba as default};
