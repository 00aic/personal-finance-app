import{u as E,g as I,h as L}from"./useImageUrl-Bnx17IBW.js";import{o as N,B as O,d as R,p as S,r as C,q as z,c as _,l as F,G as j,a as l,H as i,b as c,t as p,n as M,F as q,e as A,h as k,u as G,i as a,j as H}from"./index-CDsun8ib.js";function Q(u,m){const o=n=>{u.value&&!u.value.contains(n.target)&&m()};return N(()=>{document.addEventListener("click",o)}),O(()=>{document.removeEventListener("click",o)}),{handleClick:o}}const T={key:0,class:"label"},$={class:"wrapper"},J={class:"header__label"},K=["src"],W={key:0,class:"options__label"},X=["onClick"],Y={key:1,class:"options__option-color--selected"},Z={key:2,class:"options__option--used"},x=R({__name:"SelectPicker",props:S({options:{},label:{},imgSrc:{},width:{},type:{},usedValues:{default:()=>[]}},{modelValue:{},modelModifiers:{}}),emits:S(["select"],["update:modelValue"]),setup(u,{emit:m}){const o=u,n=C(!1),r=z(u,"modelValue"),V=_(()=>o.options.find(e=>e.value===r.value)),y=r.value,w=m,P=e=>{v(e.value)&&(n.value=!1,r.value=e.value,w("select",e.value))},f=()=>{n.value=!n.value},U=C(F("(min-width: 577px)")),d=_(()=>!U.value&&o.imgSrc),B=_(()=>d.value?E(o.imgSrc??"").value:""),D=()=>{n.value=!1},h=j("selectPickerRef");Q(h,D);const b=e=>{var t;return(t=o.usedValues)==null?void 0:t.includes(e)},v=e=>{const t=b(e);return!t||t&&y===e};return(e,t)=>{var g;return a(),l("div",{class:"select",ref_key:"selectPickerRef",ref:h},[e.label&&!d.value?(a(),l("div",T,p(e.label),1)):i("",!0),c("div",$,[d.value?i("",!0):(a(),l("div",{key:0,class:"header vee-form",onClick:f},[c("span",J,p((g=V.value)==null?void 0:g.label),1),t[0]||(t[0]=c("div",{class:"header__icon"},[c("img",{src:I,alt:"select"})],-1))])),d.value?(a(),l("div",{key:1,class:"header-img",onClick:f},[c("img",{src:B.value,alt:"abbrev"},null,8,K)])):i("",!0),n.value?(a(),l("ul",{key:2,class:"options",style:M({width:e.width})},[d.value?(a(),l("li",W,p(e.label),1)):i("",!0),(a(!0),l(q,null,A(e.options,s=>(a(),l("li",{key:s.value,onClick:ee=>P(s),class:k(["options__option",{"options__option--has-pointer":v(s.value)}]),style:M(e.type&&e.type==="color"?{"--color-theme":s.value}:{})},[e.type&&e.type==="color"?(a(),l("div",{key:0,class:k(["options__option-circle",{"options__option-circle--used":!v(s.value)}])},null,2)):i("",!0),c("div",{class:k(["options__option-label",{"options__option--selected":s.value===r.value,"options__option-label--used":!v(s.value)}])},p(s.label),3),e.type&&e.type==="color"&&s.value===r.value?(a(),l("div",Y,t[1]||(t[1]=[c("img",{src:L,alt:"selected"},null,-1)]))):i("",!0),b(s.value)&&s.value!==r.value&&s.value!==G(y)?(a(),l("div",Z," Aready Used ")):i("",!0)],14,X))),128))],4)):i("",!0)])],512)}}}),ae=H(x,[["__scopeId","data-v-38145e65"]]);export{ae as S,Q as u};
