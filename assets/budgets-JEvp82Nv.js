import{a as l}from"./config-DsdTllfp.js";import{a3 as h}from"./index-C032iH88.js";import{g as b,a as f}from"./transactions.mocks-Hj1TqFN2.js";import{h as o}from"./autoImport-CyN5WCm3.js";import{d as s,H as r}from"./delay-CL5DqagV.js";import"./browser-B2Hdm9tx.js";const w=[{category:"Entertainment",maximum:50,theme:"#277C78"},{category:"Bills",maximum:750,theme:"#82C9D7"},{category:"Dining Out",maximum:75,theme:"#F2CDAC"},{category:"Personal Care",maximum:100,theme:"#626070"}],n=h("budgets",w),B=t=>{const e=new Date(t),c=new Date;return e.getFullYear===c.getFullYear&&e.getMonth===c.getMonth},i=()=>{const e=b().reduce((a,d)=>{const{category:g,amount:m,date:p,recurring:y}=d;return B(p)&&!y&&(a[g]=(a[g]||0)-m),a},{});return n.value.map(a=>({...a,spent:e[a.category]}))},C=()=>i().map(e=>({...e,transactions:f(e.category)})),j=t=>{n.value=n.value.filter(e=>e.category!==t)},v=t=>{n.value.push(t)},D=t=>{n.value=n.value.map(e=>e.category===t.category?{...e,...t}:e)},u=l.mockBaseURL,F=[o.get(`${u}/budgets`,async({})=>{await s(1);const t=i();return r.json({code:200,data:t})}),o.get(`${u}/budgets/category`,async({})=>{await s(1);const t=C();return r.json({code:200,data:t})}),o.delete(`${u}/budgets/:category`,async({params:t})=>{await s(1);const e=t.category;return j(e),r.json({code:200})}),o.post(`${u}/budgets`,async({request:t})=>{await s(1);const e=await t.json();return v(e),r.json({code:200})}),o.put(`${u}/budgets`,async({request:t})=>{await s(1);const e=await t.json();return D(e),r.json({code:200})})];export{F as default};
