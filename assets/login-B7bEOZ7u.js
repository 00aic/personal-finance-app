import{h as t}from"./autoImport-CyN5WCm3.js";import{a as i}from"./config-DsdTllfp.js";import{a3 as l}from"./index-C032iH88.js";import{d as r,H as o}from"./delay-CL5DqagV.js";import"./browser-B2Hdm9tx.js";const u="login",c=l(`${u}_users`,[]),m=s=>{try{if(!s.email||!s.password)return{success:!1,message:"Email and password cannot be empty"};const a=c.value.find(e=>e.email===s.email&&e.password===s.password);return a?{success:!0,user:a.email,message:"Login Successfully"}:{success:!1,message:"Incorrect e-mail or password"}}catch(a){return console.log("登录过程失败",a),{success:!1,message:"Login failed, please try again later"}}},p=s=>{c.value.push(s)},n=i.mockBaseURL,h=[t.post(`${n}/login`,async({request:s})=>{await r(1);const a=await s.json(),e=await m(a);return e?o.json({code:200,data:e},{status:200}):o.json({code:500},{status:500})}),t.post(`${n}/login/account`,async({request:s})=>{await r(1);const a=await s.json();return await p(a),o.json({code:200},{status:200})})];export{h as default};
